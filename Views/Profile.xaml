<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GymTracker.Profile"
             x:Name="profilepage"
             Shell.NavBarIsVisible="True"
             BackgroundColor="Black"
             Shell.TitleColor="Transparent"
             xmlns:local="clr-namespace:GymTracker.Models;assembly=GymTracker"
             xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.Maui;assembly=LiveChartsCore.SkiaSharpView.Maui">
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Settings"
                     IconImageSource="settings.png"
                     Order="Default"
                     Priority="0"
                     Command="{Binding OpenSettingsCommand}" />
    </ContentPage.ToolbarItems>

    <ContentPage.BindingContext>
        <local:ProfileViewModel/>
    </ContentPage.BindingContext>
    <Grid HorizontalOptions="CenterAndExpand" >
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <ScrollView>
            <VerticalStackLayout Padding="0" Spacing="20" Margin="0,10,0,0" HorizontalOptions="CenterAndExpand">
                <Label Text="Statistics" FontSize="30" HorizontalOptions="Center" TextColor="White" FontAttributes="Bold" Margin="0,0,0,20"/>
                <ScrollView Orientation="Horizontal">
                    <Grid ColumnSpacing="20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Grid.Row="0" Text="WORKOUTS" FontSize="15" HorizontalOptions="CenterAndExpand" TextColor="LightGray" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="0" Grid.Row="1" x:Name="WorkoutsLabel" Text="" TextColor="White" FontSize="16" HorizontalOptions="CenterAndExpand" FontAttributes="Bold" LineBreakMode="NoWrap" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="1" Grid.Row="0" Text="VOLUME" FontSize="15" HorizontalOptions="CenterAndExpand" TextColor="LightGray" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="1" Grid.Row="1" x:Name="VolumeLabel" Text="" FontSize="16" HorizontalOptions="CenterAndExpand" FontAttributes="Bold" TextColor="White" LineBreakMode="NoWrap" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="2" Grid.Row="0" Text="SETS" FontSize="15" HorizontalOptions="CenterAndExpand" TextColor="LightGray" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="2" Grid.Row="1" x:Name="SetsLabel" Text="" TextColor="White" FontSize="16" HorizontalOptions="CenterAndExpand" FontAttributes="Bold" LineBreakMode="NoWrap" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="3" Grid.Row="0" Text="REPS" FontSize="15" HorizontalOptions="CenterAndExpand" TextColor="LightGray" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="3" Grid.Row="1" x:Name="RepsLabel" Text="" TextColor="White" FontSize="16" HorizontalOptions="CenterAndExpand" FontAttributes="Bold" LineBreakMode="NoWrap" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="4" Grid.Row="0" Text="TIME" FontSize="15" HorizontalOptions="CenterAndExpand" TextColor="LightGray" HorizontalTextAlignment="Center"/>
                        <Label Grid.Column="4" Grid.Row="1" x:Name="TimeLabel" Text="" TextColor="White" FontSize="16" HorizontalOptions="CenterAndExpand" FontAttributes="Bold" LineBreakMode="NoWrap" HorizontalTextAlignment="Center"/>
                    </Grid>
                </ScrollView>
                    <Button  Text="{Binding Profile.SplitButtonText}"
                        FontSize="15"
                        Margin="0,0,0,0"
                        FontAttributes="Bold"
                        BackgroundColor="#2b2b2b"
                        BorderColor="#2b2b2b"
                        TextColor="White"
                        WidthRequest="200"
                        BorderWidth="1"
                        HorizontalOptions="Center"
                        Command="{Binding Profile.ToggleSplitsCommand}"/>
                <Frame BorderColor="Black" CornerRadius="8" Padding="10" Margin="0" HorizontalOptions="FillAndExpand" IsVisible="{Binding Profile.IsSplitVisible}">
                    <VerticalStackLayout x:Name="FunctionStack" Padding="0" Spacing="20" Margin="0,0,0,0" HorizontalOptions="FillAndExpand">
                        <Label Text="Split" FontSize="20" HorizontalOptions="Center" TextColor="AliceBlue" FontAttributes="Bold"/>
                    </VerticalStackLayout>
                </Frame>
                <Button  Text="{Binding Profile.MuscleGroupButtonText}"
                        FontSize="15"
                        Margin="0,0,0,0"
                        FontAttributes="Bold"
                        BackgroundColor="#2b2b2b"
                        BorderColor="#2b2b2b"
                        TextColor="White"
                        WidthRequest="200"
                        BorderWidth="1"
                        HorizontalOptions="Center"
                        Command="{Binding Profile.ToggleMuscleGroupsCommand}"/>
                <Frame BorderColor="Black" CornerRadius="8" Padding="10" Margin="0" HorizontalOptions="FillAndExpand" IsVisible="{Binding Profile.IsMuscleGroupVisible}">

                    <VerticalStackLayout x:Name="GroupStack" Padding="0" Spacing="20" Margin="0,0,0,0" HorizontalOptions="FillAndExpand">
                        <Label Text="Muscle Group" FontSize="20" HorizontalOptions="Center" TextColor="AliceBlue" FontAttributes="Bold"/>
                    </VerticalStackLayout>
                </Frame>
                <Button  Text="{Binding Profile.IndividualMusclesButtonText}"
                        FontSize="15"
                        Margin="0,0,0,0"
                        FontAttributes="Bold"
                        BackgroundColor="#2b2b2b"
                        BorderColor="#2b2b2b"
                        TextColor="White"
                        WidthRequest="200"
                        BorderWidth="1"
                        HorizontalOptions="Center"
                        Command="{Binding Profile.ToggleIndividualMusclesCommand}"/>

                <Frame BorderColor="Black" CornerRadius="8" Padding="10" Margin="0" HorizontalOptions="FillAndExpand" IsVisible="{Binding Profile.IsIndividualMusclesVisible}">

                    <VerticalStackLayout x:Name="IndividualStack" Padding="0" Spacing="20" Margin="0,0,0,0" HorizontalOptions="FillAndExpand">
                        <Label Text="Individual" FontSize="20" HorizontalOptions="Center" TextColor="AliceBlue" FontAttributes="Bold"/>
                    </VerticalStackLayout>
                </Frame>


                <lvc:CartesianChart x:Name="WeeklyChart"
                    Margin="0"
                    ZoomMode="X"
                    HorizontalOptions="FillAndExpand"
                    HeightRequest="250"
                    VerticalOptions="Start"/>



                <HorizontalStackLayout
                    x:Name="WeeklyStatsButtonContainer"
                    Spacing="20"
                    HorizontalOptions="Center"
                    VerticalOptions="Start" />
                
                <Button Text="Exercises" TextColor="White" FontSize="15" BackgroundColor="#2b2b2b" Margin="40,20,40,0"  FontAttributes="Bold" Command="{Binding ExercisesCommand}"/>
                <Button Text="More Statistics" TextColor="White" FontSize="15" BackgroundColor="#2b2b2b" Margin="40,0,40,0" FontAttributes="Bold" Command="{Binding StatisticsCommand}"/>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>